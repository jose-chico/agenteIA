<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Painel Admin ğŸ“Š</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="admin-wrapper">
        <aside id="sidebar">
            <div id="sidebar-header">
                <h3>Admin Chat ğŸ‘‘</h3>
                <input type="text" id="searchClient" placeholder="ğŸ” Buscar cliente...">
            </div>
            <div class="client-list">
            </div>
        </aside>

        <main class="admin-main">
            <header>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <button id="back-to-list-btn" class="back-btn" style="display: none;">â†</button>
                    <h2>Gerenciamento ğŸ“¥</h2>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div><strong>Admin:</strong> Francisco ğŸ‘‘</div>
                    <span id="logout-btn" class="logout-btn-header" style="cursor: pointer; color: #ef4444; font-size: 0.9rem;">ğŸšª Sair</span>
                </div>
            </header>

            <div id="admin-messages">
                <div class="empty-state">
                    <p>Selecione um cliente para conversar ğŸ‘¤</p>
                </div>
            </div>

            <div id="typing-status-admin"></div>

            <!-- Modo Broadcast -->
            <div class="broadcast-toggle-container">
                <label class="broadcast-toggle">
                    <input type="checkbox" id="broadcastMode">
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">
                        <span class="icon">ğŸ“¢</span>
                        <span class="text">Enviar para TODOS os clientes</span>
                    </span>
                </label>
                <p class="broadcast-hint" id="broadcast-hint" style="display: none;">
                    âš ï¸ A mensagem serÃ¡ enviada para todos os clientes ativos
                </p>
            </div>

            <div class="admin-input-area">
                <div class="emoji-bar" id="emoji-bar-admin" style="display: none;">
                    <!-- Emojis BÃ¡sicos -->
                    <span onclick="insertEmojiAdmin('ğŸ˜Š')">ğŸ˜Š</span>
                    <span onclick="insertEmojiAdmin('ğŸ˜‚')">ğŸ˜‚</span>
                    <span onclick="insertEmojiAdmin('ğŸ˜')">ğŸ˜</span>
                    <span onclick="insertEmojiAdmin('ğŸ‘')">ğŸ‘</span>
                    <span onclick="insertEmojiAdmin('â¤ï¸')">â¤ï¸</span>
                    <span onclick="insertEmojiAdmin('âœ…')">âœ…</span>
                    
                    <!-- Mercado Financeiro -->
                    <span onclick="insertEmojiAdmin('ğŸ’°')">ğŸ’°</span>
                    <span onclick="insertEmojiAdmin('ğŸ’µ')">ğŸ’µ</span>
                    <span onclick="insertEmojiAdmin('ğŸ’¶')">ğŸ’¶</span>
                    <span onclick="insertEmojiAdmin('ğŸ’·')">ğŸ’·</span>
                    <span onclick="insertEmojiAdmin('ğŸ’¸')">ğŸ’¸</span>
                    <span onclick="insertEmojiAdmin('ğŸ’³')">ğŸ’³</span>
                    <span onclick="insertEmojiAdmin('ğŸª™')">ğŸª™</span>
                    <span onclick="insertEmojiAdmin('ğŸ“ˆ')">ğŸ“ˆ</span>
                    <span onclick="insertEmojiAdmin('ğŸ“‰')">ğŸ“‰</span>
                    <span onclick="insertEmojiAdmin('ğŸ“Š')">ğŸ“Š</span>
                    <span onclick="insertEmojiAdmin('ğŸ’¹')">ğŸ’¹</span>
                    <span onclick="insertEmojiAdmin('ğŸ¦')">ğŸ¦</span>
                    <span onclick="insertEmojiAdmin('ğŸ§')">ğŸ§</span>
                    <span onclick="insertEmojiAdmin('ğŸ’¼')">ğŸ’¼</span>
                    <span onclick="insertEmojiAdmin('ğŸ§®')">ğŸ§®</span>
                    <span onclick="insertEmojiAdmin('ğŸ¯')">ğŸ¯</span>
                    <span onclick="insertEmojiAdmin('ğŸ””')">ğŸ””</span>
                    <span onclick="insertEmojiAdmin('âš¡')">âš¡</span>
                    <span onclick="insertEmojiAdmin('ğŸš€')">ğŸš€</span>
                    <span onclick="insertEmojiAdmin('ğŸ‚')">ğŸ‚</span>
                    <span onclick="insertEmojiAdmin('ğŸ»')">ğŸ»</span>
                    <span onclick="insertEmojiAdmin('ğŸ’')">ğŸ’</span>
                </div>
                <div class="admin-controls">
                    <button class="emoji-toggle-btn" onclick="toggleEmojiPicker('admin')" title="Emojis">ğŸ˜Š</button>
                    <input type="file" id="imageInputAdmin" accept="image/*" style="display: none;">
                    <button class="attach-btn attach-btn-admin" onclick="document.getElementById('imageInputAdmin').click()">ğŸ“</button>
                    <input type="text" id="adminReply" placeholder="Digite sua resposta...">
                    <button id="send-btn">Enviar</button>
                </div>
            </div>
        </main>
    </div>

    <div id="admin-msg-options-modal" class="modal-overlay" style="display: none;" onclick="closeAdminOptionsModal(event)">
        <div class="modal-content">
            <h3 style="margin-bottom: 15px; text-align: center; color: var(--text-primary);">OpÃ§Ãµes da Mensagem</h3>
            <div id="admin-modal-actions"></div>
            <button class="msg-opt-btn cancel-global" onclick="closeAdminOptionsModal()">
                <span class="icon">âŒ</span> Cancelar
            </button>
        </div>
    </div>

    <div id="toast-container"></div>

    <script src="https://agenteia-22ds.onrender.com/socket.io/socket.io.js"></script>
    <script src="admin-script.js"></script>
</body>
</html>
